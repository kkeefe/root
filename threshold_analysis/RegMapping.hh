#ifndef __REGMAPPING_H_
#define __REGMAPPING_H_

set<int> Register_Set =
    {111, 113, 115, 109, 85, 117, 119, 121, 112, 114, 116, 77, 124, 118, 120, 122, 110, 82, 80, 79, 89, 87, 90, 92, 83, 78, 81, 84, 88, 86, 91, 123, 19, 47, 49, 48, 58, 56, 54, 59, 46, 51, 50, 45, 57, 55, 53, 22, 18, 16, 14, 20, 60, 28, 26, 24, 17, 15, 13, 52, 21, 27, 25, 23};

// need to convert register information from the Lyso data to the noise measurement on the chanell..
// KEEP IN MIND that channel here actually refers to the pixel number minus 1!!
int conv_Reg_to_pixel(int reg_val)
{
  map<int, int> conv_reg_to_pixel = {
      {111, 1},
      {113, 2},
      {115, 3},
      {109, 4},
      {85, 5},
      {117, 6},
      {119, 7},
      {121, 8},
      {112, 9},
      {114, 10},
      {116, 11},
      {77, 12},
      {124, 13},
      {118, 14},
      {120, 15},
      {122, 16},
      {110, 17},
      {82, 18},
      {80, 19},
      {79, 20},
      {89, 21},
      {87, 22},
      {90, 23},
      {92, 24},
      {83, 25},
      {78, 26},
      {81, 27},
      {84, 28},
      {88, 29},
      {86, 30},
      {91, 31},
      {123, 32},
      {19, 33},
      {47, 34},
      {49, 35},
      {48, 36},
      {58, 37},
      {56, 38},
      {54, 39},
      {59, 40},
      {46, 41},
      {51, 42},
      {50, 43},
      {45, 44},
      {57, 45},
      {55, 46},
      {53, 47},
      {22, 48},
      {18, 49},
      {16, 50},
      {14, 51},
      {20, 52},
      {60, 53},
      {28, 54},
      {26, 55},
      {24, 56},
      {17, 57},
      {15, 58},
      {13, 59},
      {52, 60},
      {21, 61},
      {27, 62},
      {25, 63},
      {23, 64}};
  int pixel = conv_reg_to_pixel.at(reg_val);
  //numbering of the pixels is offset by 1..
  return pixel - 1;
}

int conv_Reg_to_Ch(int reg_val)
{
  map<int, int> reg_to_channel = {
      {111, 99},
      {113, 101},
      {115, 103},
      {109, 97},
      {85, 73},
      {117, 105},
      {119, 107},
      {121, 109},
      {112, 100},
      {114, 102},
      {116, 104},
      {77, 65},
      {124, 112},
      {118, 106},
      {120, 108},
      {122, 110},
      {110, 98},
      {82, 70},
      {80, 68},
      {79, 67},
      {89, 77},
      {87, 75},
      {90, 78},
      {92, 80},
      {83, 71},
      {78, 66},
      {81, 69},
      {84, 72},
      {88, 76},
      {86, 74},
      {91, 79},
      {123, 111},
      {19, 7},
      {47, 35},
      {49, 37},
      {48, 36},
      {58, 46},
      {56, 44},
      {54, 42},
      {59, 47},
      {46, 34},
      {51, 39},
      {50, 38},
      {45, 33},
      {57, 45},
      {55, 43},
      {53, 41},
      {22, 10},
      {18, 6},
      {16, 4},
      {14, 2},
      {20, 8},
      {60, 48},
      {28, 16},
      {26, 14},
      {24, 12},
      {17, 5},
      {15, 3},
      {13, 1},
      {52, 40},
      {21, 9},
      {27, 15},
      {25, 13},
      {23, 11}};
  int channel;
  return reg_to_channel.at(reg_val);
}


#endif // __REGMAPPING_H_
